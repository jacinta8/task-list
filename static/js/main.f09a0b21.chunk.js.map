{"version":3,"sources":["components/NewTask/TaskForm.module.css","hook/use-http.js","components/UI/Section.js","components/Tasks/TaskItem.js","components/Tasks/Tasks.js","components/NewTask/TaskForm.js","components/NewTask/NewTask.js","App.js","index.js","components/Tasks/TaskItem.module.css","components/UI/Section.module.css","components/Tasks/Tasks.module.css"],"names":["module","exports","useHttp","useState","isLoading","setIsLoading","error","setError","sendRequest","useCallback","requestConfig","applyData","fetch","url","method","body","JSON","stringify","headers","response","ok","Error","json","data","message","Section","props","className","classes","section","children","TaskItem","id","onDelete","deleteTasks","deleteTask","task","onClick","remove","Tasks","taskList","items","length","map","text","content","onFetch","loading","container","TaskForm","taskInputRef","useRef","form","onSubmit","event","preventDefault","enteredValue","current","value","trim","onEnterTask","type","ref","NewTask","sendTask","enterTaskHandler","taskText","createdTask","name","onAddTask","App","tasks","setTasks","fetchTasks","useEffect","loadedTasks","taskKey","push","Fragment","prevTasks","concat","filter","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.f09a0b21.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"TaskForm_form__1wAfM\"};","import { useState, useCallback } from \"react\";\r\n\r\nconst useHttp = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const sendRequest = useCallback(async (requestConfig, applyData) => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await fetch(requestConfig.url, {\r\n        method: requestConfig.method ? requestConfig.method : \"get\",\r\n        body: requestConfig.body ? JSON.stringify(requestConfig.body) : null,\r\n        headers: requestConfig.headers ? requestConfig.headers : {},\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Request failed!\");\r\n      }\r\n      const data = await response.json();\r\n      applyData(data);\r\n    } catch (err) {\r\n      setError(err.message || \"Something went wrong!\");\r\n    }\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  return { isLoading, error, sendRequest };\r\n};\r\n\r\nexport default useHttp;\r\n","import classes from './Section.module.css';\n\nconst Section = (props) => {\n  return <section className={classes.section}>{props.children}</section>;\n};\n\nexport default Section;\n","import classes from \"./TaskItem.module.css\"\r\nimport useHttp from \"../../hook/use-http\"\r\n\r\nconst TaskItem = (props) => {\r\n  const { id, onDelete } = props\r\n  const { sendRequest: deleteTasks } = useHttp()\r\n\r\n  const deleteTask = async () => {\r\n    await deleteTasks({\r\n      url: `https://add-tasks-4062b-default-rtdb.firebaseio.com/${id}.json`,\r\n      method: \"DELETE\",\r\n    })\r\n    onDelete(id)\r\n  }\r\n  return (\r\n    <li className={classes.task}>\r\n      {props.children}\r\n      <button onClick={deleteTask} className={classes.remove}>\r\n        Delete\r\n      </button>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default TaskItem\r\n","import Section from \"../UI/Section\"\r\nimport TaskItem from \"./TaskItem\"\r\nimport classes from \"./Tasks.module.css\"\r\n\r\nconst Tasks = (props) => {\r\n  const onDelete = props.onDelete\r\n\r\n  let taskList = <h2>No tasks found. Start adding some!</h2>\r\n\r\n  if (props.items.length > 0) {\r\n    taskList = (\r\n      <ul>\r\n        {props.items.map((task) => (\r\n          <TaskItem key={task.id} onDelete={onDelete} id={task.id}>\r\n            {task.text}\r\n          </TaskItem>\r\n        ))}\r\n      </ul>\r\n    )\r\n  }\r\n\r\n  let content = taskList\r\n\r\n  if (props.error) {\r\n    content = <button onClick={props.onFetch}>Try again</button>\r\n  }\r\n\r\n  if (props.loading) {\r\n    content = \"Loading tasks...\"\r\n  }\r\n\r\n  return (\r\n    <Section>\r\n      <div className={classes.container}>{content}</div>\r\n    </Section>\r\n  )\r\n}\r\n\r\nexport default Tasks\r\n","import { useRef } from \"react\"\n\nimport classes from \"./TaskForm.module.css\"\n\nconst TaskForm = (props) => {\n  const taskInputRef = useRef()\n\n  const submitHandler = (event) => {\n    event.preventDefault()\n\n    const enteredValue = taskInputRef.current.value\n\n    if (enteredValue.trim().length > 0) {\n      props.onEnterTask(enteredValue)\n    }\n    taskInputRef.current.value = \"\"\n  }\n\n  return (\n    <form className={classes.form} onSubmit={submitHandler}>\n      <input type=\"text\" ref={taskInputRef} />\n      <button>{props.loading ? \"Sending...\" : \"Add Task\"}</button>\n    </form>\n  )\n}\n\nexport default TaskForm\n","import Section from \"../UI/Section\"\nimport TaskForm from \"./TaskForm\"\nimport useHttp from \"../../hook/use-http\"\n\nconst NewTask = (props) => {\n  const { isLoading, error, sendRequest: sendTask } = useHttp()\n\n  const enterTaskHandler = async (taskText) => {\n    const fetchData = (data) => {\n      const generatedId = data.name // firebase-specific => \"name\" contains generated id\n      const createdTask = { id: generatedId, text: taskText }\n      props.onAddTask(createdTask)\n    }\n\n    sendTask(\n      {\n        url: \"https://add-tasks-4062b-default-rtdb.firebaseio.com/.json\",\n        method: \"POST\",\n        body: { text: taskText },\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      },\n      fetchData\n    )\n  }\n\n  return (\n    <Section>\n      <TaskForm onEnterTask={enterTaskHandler} loading={isLoading} />\n      {error && <p>{error}</p>}\n    </Section>\n  )\n}\n\nexport default NewTask\n","import React, { useState, useEffect } from \"react\"\nimport useHttp from \"./hook/use-http\"\n\nimport Tasks from \"./components/Tasks/Tasks\"\nimport NewTask from \"./components/NewTask/NewTask\"\n\nfunction App() {\n  const [tasks, setTasks] = useState([])\n\n  const { isLoading, error, sendRequest: fetchTasks } = useHttp()\n\n  useEffect(() => {\n    const fetchData = (data) => {\n      const loadedTasks = []\n\n      for (const taskKey in data) {\n        loadedTasks.push({ id: taskKey, text: data[taskKey].text })\n      }\n\n      setTasks(loadedTasks)\n    }\n    fetchTasks(\n      { url: \"https://add-tasks-4062b-default-rtdb.firebaseio.com/.json\" },\n      fetchData\n    )\n  }, [fetchTasks])\n\n  const taskAddHandler = (task) => {\n    setTasks((prevTasks) => prevTasks.concat(task))\n  }\n\n  const deleteTaskHandler = (id) => {\n    setTasks((prevTasks) => prevTasks.filter((task) => task.id !== id))\n  }\n\n  return (\n    <React.Fragment>\n      <NewTask onAddTask={taskAddHandler} />\n      <Tasks\n        items={tasks}\n        loading={isLoading}\n        error={error}\n        onFetch={fetchTasks}\n        onDelete={deleteTaskHandler}\n      />\n    </React.Fragment>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom/client';\n\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(<App />);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"task\":\"TaskItem_task__39sGU\",\"remove\":\"TaskItem_remove__2JNgI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__35Ii9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Tasks_container__2gv4C\"};"],"sourceRoot":""}