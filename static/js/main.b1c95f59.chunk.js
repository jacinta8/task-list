(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{10:function(e,t,n){e.exports={form:"TaskForm_form__1wAfM"}},19:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var r=n(6),c=n.n(r),s=(n(19),n(3)),a=n(1),o=n.n(a),i=n(2),u=n(4),d=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),o=Object(s.a)(c,2),d=o[0],j=o[1],l=Object(a.useCallback)(function(){var e=Object(u.a)(Object(i.a)().mark((function e(t,n){var c,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),j(null),e.prev=2,e.next=5,fetch(t.url,{method:t.method?t.method:"get",body:t.body?JSON.stringify(t.body):null,headers:t.headers?t.headers:{}});case 5:if((c=e.sent).ok){e.next=8;break}throw new Error("Request failed!");case 8:return e.next=10,c.json();case 10:s=e.sent,n(s),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),j(e.t0.message||"Something went wrong!");case 17:r(!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}(),[]);return{isLoading:n,error:d,sendRequest:l}},j=n(7),l=n.n(j),b=n(0),f=function(e){return Object(b.jsx)("section",{className:l.a.section,children:e.children})},h=n(8),O=n.n(h),p=function(e){return Object(b.jsx)("li",{className:O.a.task,children:e.children})},x=n(9),m=n.n(x),k=function(e){var t=Object(b.jsx)("h2",{children:"No tasks found. Start adding some!"});e.items.length>0&&(t=Object(b.jsx)("ul",{children:e.items.map((function(e){return Object(b.jsx)(p,{children:e.text},e.id)}))}));var n=t;return e.error&&(n=Object(b.jsx)("button",{onClick:e.onFetch,children:"Try again"})),e.loading&&(n="Loading tasks..."),Object(b.jsx)(f,{children:Object(b.jsx)("div",{className:m.a.container,children:n})})},g=n(10),v=n.n(g),_=function(e){var t=Object(a.useRef)();return Object(b.jsxs)("form",{className:v.a.form,onSubmit:function(n){n.preventDefault();var r=t.current.value;r.trim().length>0&&e.onEnterTask(r)},children:[Object(b.jsx)("input",{type:"text",ref:t}),Object(b.jsx)("button",{children:e.loading?"Sending...":"Add Task"})]})},w=function(e){var t=d(),n=t.isLoading,r=t.error,c=t.sendRequest,s=function(){var t=Object(u.a)(Object(i.a)().mark((function t(n){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({url:"https://add-tasks-4062b-default-rtdb.firebaseio.com/.json",method:"POST",body:{text:n},headers:{"Content-Type":"application/json"}},(function(t){var r={id:t.name,text:n};e.onAddTask(r)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsxs)(f,{children:[Object(b.jsx)(_,{onEnterTask:s,loading:n}),r&&Object(b.jsx)("p",{children:r})]})};var y=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],c=d(),i=c.isLoading,u=c.error,j=c.sendRequest;return Object(a.useEffect)((function(){j({url:"https://add-tasks-4062b-default-rtdb.firebaseio.com/.json"},(function(e){var t=[];for(var n in e)t.push({id:n,text:e[n].text});r(t)}))}),[j]),Object(b.jsxs)(o.a.Fragment,{children:[Object(b.jsx)(w,{onAddTask:function(e){r((function(t){return t.concat(e)}))}}),Object(b.jsx)(k,{items:n,loading:i,error:u,onFetch:j})]})};c.a.createRoot(document.getElementById("root")).render(Object(b.jsx)(y,{}))},7:function(e,t,n){e.exports={section:"Section_section__35Ii9"}},8:function(e,t,n){e.exports={task:"TaskItem_task__39sGU"}},9:function(e,t,n){e.exports={container:"Tasks_container__2gv4C"}}},[[21,1,2]]]);
//# sourceMappingURL=main.b1c95f59.chunk.js.map